<!doctype html>
<html ng-app="baobab">
  <head>
    <base href="./">
    <title>Baobab</title>
    <link rel="stylesheet" href="/components/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/angular-animation.css"/>
    <style>.clickable { cursor: pointer; }</style>

    <script src="/components/jquery/dist/jquery.min.js"></script>
    <script src="/components/angular/angular.min.js"></script>
    <script src="/components/angular-sanitize/angular-sanitize.min.js"></script>
    <script src="/components/angular-cookies/angular-cookies.min.js"></script>
    <script src="/components/angular-route/angular-route.min.js"></script>
    <script src="/components/angular-animate/angular-animate.min.js"></script>
    <script src="/components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/components/angular-strap/dist/angular-strap.min.js"></script>
    <script src="/components/angular-strap/dist/angular-strap.tpl.min.js"></script>
    <script src="/components/angular-strap/dist/modules/dimensions.min.js"></script>
    <script src="/components/underscore/underscore-min.js"></script>
    <script src="/components/moment/min/moment.min.js"></script>
    <script src="/js/minievents.js"></script>
    <script src="/js/FileSaver.js"></script>
    <script src="/js/angular-inbox.js"></script>
    <script src="/js/infinite-scroll.js"></script>
    <script src="/js/app.js"></script>
    <script src="/js/controllers.js"></script>

    <link rel="icon" type="image/png" href="/img/favicon.png">
    <link rel="stylesheet" type="text/css" href="/css/baobab.less">
  </head>

  <body>
    <div ng-controller="AppCtrl as App" ng-switch="!!App.token()" class="theme-{{App.theme}}">

      <div ng-switch-when="false" class="login-background">
        <div class="login-panel">
          <h2>Please Sign In</h2>
          <form action="{{App.inboxAuthURL}}" method="get">
            <input type="submit" value="" style="display:none;" hidefocus="true" tabindex="-1"/>
            <input class="form-control" style="text-align:center;" type="email" name="login_hint" placeholder="Email Address" ng-model="App.loginHint"/>
            <input type="hidden" name="client_id" ng-value="App.inboxClientID"/>
            <input type="hidden" name="redirect_uri" ng-value="App.inboxRedirectURL"/>
            <input type="hidden" name="response_type" value="token"/>
            <br>
            <a class="btn btn-default" ng-href="{{App.inboxAuthURL}}?client_id={{App.inboxClientID}}&response_type=token&login_hint={{App.loginHint}}&redirect_uri={{App.inboxRedirectURL}}">Log In</a>
          </form>
        </div>
      </div>

      <div ng-switch-when="true">
        <div id="content-sidebar">
          <ul>
            <li class="{{App.cssForTab('inbox')}}"><a href="#/inbox"><img src="/img/tab_inbox@2x.png" /> Inbox</a></li>
            <li class="{{App.cssForTab('compose')}}"><a href="#/mail/compose"><img src="/img/tab_compose@2x.png" /> Compose</a></li>
            <li class="{{App.cssForTab('drafts')}}"><a href="#/drafts"><img src="/img/tab_drafts@2x.png" /> Drafts</a></li>
            <li class="{{App.cssForTab('sent')}}"><a href="#/sent"><img src="/img/tab_sent@2x.png" /> Sent</a></li>
            <li class="{{App.cssForTab('archive')}}"><a href="#/archive"><img src="/img/tab_archive@2x.png" /> Archive</a></li>
          </ul>

          <ul class="pull-bottom">
            <li class="{{App.cssForTab('logout')}}"><a ng-click="App.clearToken()" href="#"><img src="/img/tab_logout@2x.png" /> Log Out</a></li>
          </ul>
        </div>

        <div id="content" ng-view></div>

        <div id="debug-info">Token: {{App.token()}}<br>Namespace: {{App.namespace().id}}</div>
      </div>
    </div>
  </body>
</html>
